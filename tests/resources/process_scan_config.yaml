base_dir: ./tests/
output_dir: ./output
warnings: ignore
cores: 4
quiet: false
file_ext: .spm
filter:
  run: true # Options : true, false
  channel: Height
  amplify_level: 1.0
  threshold_method: std_dev # Options : otsu, std_dev, absolute
  otsu_threshold_multiplier: 1.0
  threshold_std_dev: 1.0
  threshold_absolute_lower: -1.0
  threshold_absolute_upper: 1.0
grains:
  run: true # Options : true, false
  gaussian_size: 2.0
  gaussian_mode: nearest
  absolute_smallest_grain_size: 100
  threshold_method: std_dev # Options : otsu, std_dev, absolute
  otsu_threshold_multiplier: 1.0
  threshold_std_dev: 1.0
  threshold_absolute_lower: -1.0
  threshold_absolute_upper: 1.0
  direction: upper # Options: upper, lower, both (defines whether to look for grains above or below thresholds or both)
  background: 0.0
grainstats:
  run: true # Options : true, false
  cropped_size: 40 # Length (in nm) of square cropped images (can take -1 for grain-sized box)
  save_cropped_grains: true # Options : true, false
dnatracing:
  run: true # Options : true, false
plotting:
  run: true # Options : true, false
  save_format: tiff # Options: those found in plt.savefig()
  image_set: core  # Options : all, core
  zrange: [0, 3] # low and high height range for core images. Options : [null, null])
  colorbar: true  # Options : true, false
  axes: true # Options : true, false (due to off being a bool when parsed)
  cmap: nanoscope # Options : nanoscope, afmhot
  # The following section defines a dictionary where they key is the name of the image generated by
  # Filters/Grains/Grainstats and the value is a nested dictionary with the following keys/values.
  #
  # Generally you should NOT need to change any of these unless you explicitly want to and even then you may wish to
  # consider instead running the analysis in a Jupyter Notebook and configuring your plotting options there.
  #
  # | Key          | Type    |Description                                                                   |
  # |--------------|---------|------------------------------------------------------------------------------|
  # | filename     | String  | Filename (minus extension) to which image is saved.                          |
  # | title        | String  | Title for the plot                                                           |
  # | type         | String  | Whether the plot includes the height (non-binary) or the outline (binary)    |
  # | core_set     | Boolean | Whether a plot is considered part of the core set of images that are plotted.|
  plot_dict:
    extracted_channel:
      filename: "00-raw_heightmap.png"
      title: "Raw Height"
      type: "non-binary"
      core_set: false
    pixels:
      filename: "01-pixels.png"
      title: "Pixels"
      type: "non-binary"
      core_set: false
    initial_align:
      filename: "02-initial_align_unmasked.png"
      title: "Initial Alignment (Unmasked)"
      type: "non-binary"
      core_set: false
    initial_tilt_removal:
      filename: "03-initial_tilt_removal_unmasked.png"
      title: "Initial Tilt Removal (Unmasked)"
      type: "non-binary"
      core_set: false
    mask:
      filename: "04-binary_mask.png"
      title: "Binary Mask"
      type: "binary"
      core_set: false
    masked_align:
      filename: "05-secondary_align_masked.png"
      title: "Secondary Alignment (Masked)"
      type: "non-binary"
      core_set: false
    masked_tilt_removal:
      filename: "06-secondary_tilt_removal_masked.png"
      title: "Secondary Tilt Removal (Masked)"
      type: "non-binary"
      core_set: false
    zero_averaged_background:
      filename: "07-zero_average_background.png"
      title: "Zero Average Background"
      type: "non-binary"
      core_set: false
    gaussian_filtered:
      filename: "08-gaussian_filtered.png"
      title: "Gaussian Filtered"
      type: "non-binary"
      core_set: false
    z_threshed:
      title: "Height Thresholded"
      type: "non-binary"
      core_set: true
    mask_grains:
      filename: "09-mask_grains.png"
      title: "Mask for Grains"
      type: "binary"
      core_set: false
    tidied_border:
      filename: "10-tidy_borders.png"
      title: "Tidied Borders"
      type: "binary"
      core_set: false
    removed_noise:
      filename: "11-noise_removed.png"
      title: "Noise removed"
      type: "binary"
      core_set: false
    labelled_regions_01:
      filename: "12-labelled_regions.png"
      title: "Labelled Regions"
      type: "binary"
      core_set: false
    removed_small_objects:
      filename: "13-small_objects_removed.png"
      title: "Small Objects Removed"
      type: "binary"
      core_set: false
    mask_overlay:
      title: "Height Thresholded with Mask"
      type: "non-binary"
      core_set: true
    labelled_regions_02:
      filename: "14-labelled_regions.png"
      title: "Labelled Regions"
      type: "binary"
      core_set: false
    coloured_regions:
      filename: "15-coloured_regions.png"
      title: "Coloured Regions"
      type: "binary"
      core_set: false
    bounding_boxes:
      filename: "16-bounding_boxes.png"
      title: "Bounding Boxes"
      type: "binary"
      core_set: false
    coloured_boxes:
      filename: "17-labelled_image_bboxes.png"
      title: "Labelled Image with Bounding Boxes"
      type: "binary"
      core_set: false
    grain_image:
      type: "non-binary"
      core_set: true
    grain_mask:
      type: "non-binary"
      core_set: false
    grain_mask_image:
      type: "non-binary"
      core_set: false
