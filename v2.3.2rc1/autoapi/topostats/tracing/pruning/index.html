
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>topostats.tracing.pruning &#8212; TopoStats 2.3.3.dev27+g279473507 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css?v=2b4ec01c" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../../_static/documentation_options.js?v=766c09a3"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'autoapi/topostats/tracing/pruning/index';</script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="topostats.tracing.skeletonize" href="../skeletonize/index.html" />
    <link rel="prev" title="topostats.tracing.ordered_tracing" href="../ordered_tracing/index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.3" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">TopoStats 2.3.3.dev27+g279473507 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../contributing.html">
    Contributing
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../notebooks.html">
    Notebooks
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../advanced.html">
    Advanced Documentation
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../workflow.html">
    Workflow
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../data_dictionary.html">
    Data Dictionary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../related_software.html">
    Related Software
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../glossary.html">
    Glossary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../../faq.html">
    Frequently Asked Questions
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../../../index.html">
    API Reference
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../contributing.html">
    Contributing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../notebooks.html">
    Notebooks
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../advanced.html">
    Advanced Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../workflow.html">
    Workflow
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../data_dictionary.html">
    Data Dictionary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../related_software.html">
    Related Software
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../glossary.html">
    Glossary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../../faq.html">
    Frequently Asked Questions
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3>Versions</h3>
<ul>
  <li><a href="../../../../../v2.0.0/index.html">v2.0.0</a></li>
  <li><a href="../../../../../v2.1.0/index.html">v2.1.0</a></li>
  <li><a href="../../../../../v2.1.1/index.html">v2.1.1</a></li>
  <li><a href="../../../../../v2.1.2/index.html">v2.1.2</a></li>
  <li><a href="../../../../../v2.2.0/index.html">v2.2.0</a></li>
  <li><a href="../../../../../v2.2.1/index.html">v2.2.1</a></li>
  <li><a href="../../../../../v2.2.post0/index.html">v2.2.post0</a></li>
  <li><a href="../../../../../v2.3.0/index.html">v2.3.0</a></li>
  <li><a href="../../../../../v2.3.1/index.html">v2.3.1</a></li>
  <li><a href="../../../../../v2.3.2/index.html">v2.3.2</a></li>
  <li><a href="index.html">v2.3.2rc1</a></li>
  <li><a href="../../../../../v2.3.2rc2/index.html">v2.3.2rc2</a></li>
  <li><a href="../../../../../main/index.html">main</a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">topostats</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">topostats.tracing</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">topostats.tracing.pruning</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-topostats.tracing.pruning">
<span id="topostats-tracing-pruning"></span><h1>topostats.tracing.pruning<a class="headerlink" href="#module-topostats.tracing.pruning" title="Link to this heading">#</a></h1>
<p>Prune branches from skeletons.</p>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.tracing.pruning.LOGGER" title="topostats.tracing.pruning.LOGGER"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOGGER</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.tracing.pruning.topostatsPrune" title="topostats.tracing.pruning.topostatsPrune"><code class="xref py py-obj docutils literal notranslate"><span class="pre">topostatsPrune</span></code></a></p></td>
<td><p>Prune spurious skeletal branches based on their length and/or height.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.tracing.pruning.heightPruning" title="topostats.tracing.pruning.heightPruning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">heightPruning</span></code></a></p></td>
<td><p>Pruning of branches based on height.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.tracing.pruning.prune_skeleton" title="topostats.tracing.pruning.prune_skeleton"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prune_skeleton</span></code></a>(→ numpy.typing.NDArray)</p></td>
<td><p>Pruning skeletons using different pruning methods.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.tracing.pruning._prune_method" title="topostats.tracing.pruning._prune_method"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_prune_method</span></code></a>(→ collections.abc.Callable)</p></td>
<td><p>Determine which skeletonize method to use.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.tracing.pruning._prune_topostats" title="topostats.tracing.pruning._prune_topostats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_prune_topostats</span></code></a>(→ numpy.typing.NDArray)</p></td>
<td><p>Prune using the original TopoStats method.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.tracing.pruning.order_branch_from_end" title="topostats.tracing.pruning.order_branch_from_end"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order_branch_from_end</span></code></a>(→ numpy.typing.NDArray)</p></td>
<td><p>Take a linear branch and orders its coordinates starting from a specific endpoint.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.tracing.pruning.rm_nibs" title="topostats.tracing.pruning.rm_nibs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rm_nibs</span></code></a>(skeleton)</p></td>
<td><p>Remove single pixel branches (nibs) not identified by nearest neighbour algorithms as there may be &gt;2 neighbours.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.tracing.pruning.local_area_sum" title="topostats.tracing.pruning.local_area_sum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_area_sum</span></code></a>(→ tuple)</p></td>
<td><p>Evaluate the local area around a point in a binary map.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">#</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="topostats.tracing.pruning.LOGGER">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">LOGGER</span></span><a class="headerlink" href="#topostats.tracing.pruning.LOGGER" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning.prune_skeleton">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">prune_skeleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_to_nm_scaling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#prune_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.prune_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Pruning skeletons using different pruning methods.</p>
<p>This is a thin wrapper to the methods provided within the pruning classes below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>npt.NDArray</em>) – Original image as 2D numpy array.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Skeleton to be pruned.</p></li>
<li><p><strong>pixel_to_nm_scaling</strong> (<em>float</em>) – The pixel to nm scaling for pruning by length.</p></li>
<li><p><strong>**kwargs</strong> – Pruning options passed to the respective method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of the skeleton with spurious branching artefacts removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning._prune_method">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">_prune_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_to_nm_scaling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">collections.abc.Callable</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#_prune_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning._prune_method" title="Link to this definition">#</a></dt>
<dd><p>Determine which skeletonize method to use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>npt.NDArray</em>) – Original image as 2D numpy array.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Skeleton to be pruned.</p></li>
<li><p><strong>pixel_to_nm_scaling</strong> (<em>float</em>) – The pixel to nm scaling for pruning by length.</p></li>
<li><p><strong>**kwargs</strong> – Pruning options passed to the respective method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns the function appropriate for the required skeletonizing method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Invalid method passed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning._prune_topostats">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">_prune_topostats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_to_nm_scaling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#_prune_topostats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning._prune_topostats" title="Link to this definition">#</a></dt>
<dd><p>Prune using the original TopoStats method.</p>
<p>This is a modified version of the pubhlished Zhang method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>npt.NDArray</em>) – Image used to find skeleton, may be original heights or binary mask.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Binary mask of the skeleton.</p></li>
<li><p><strong>pixel_to_nm_scaling</strong> (<em>float</em>) – The pixel to nm scaling for pruning by length.</p></li>
<li><p><strong>**kwargs</strong> – Pruning options passed to the topostatsPrune class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The skeleton with spurious branches removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">topostatsPrune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_to_nm_scaling</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_outlier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_height_prune_endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#topostatsPrune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune" title="Link to this definition">#</a></dt>
<dd><p>Prune spurious skeletal branches based on their length and/or height.</p>
<p>Contains all the functions used in the original TopoStats pruning code written by Joe Betton.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>npt.NDArray</em>) – Original image.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Skeleton to be pruned.</p></li>
<li><p><strong>pixel_to_nm_scaling</strong> (<em>float</em>) – The pixel to nm scaling for pruning by length.</p></li>
<li><p><strong>max_length</strong> (<em>float</em>) – Maximum length of the branch to prune in nanometres (nm).</p></li>
<li><p><strong>height_threshold</strong> (<em>float</em>) – Absolute height value to remove branches below in nanometres (nm).</p></li>
<li><p><strong>method_values</strong> (<em>str</em>) – Method for obtaining the height thresholding values. Options are ‘min’ (minimum value of the branch),
‘median’ (median value of the branch) or ‘mid’ (ordered branch middle coordinate value).</p></li>
<li><p><strong>method_outlier</strong> (<em>str</em>) – Method for pruning brancvhes based on height. Options are ‘abs’ (below absolute value), ‘mean_abs’ (below the
skeleton mean - absolute threshold) or ‘iqr’ (below 1.5 * inter-quartile range).</p></li>
<li><p><strong>only_height_prune_endpoints</strong> (<em>bool</em>) – Whether to only prune endpoints by height, or all skeleton segments.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.img">
<span class="sig-name descname"><span class="pre">img</span></span><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.img" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.skeleton">
<span class="sig-name descname"><span class="pre">skeleton</span></span><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.skeleton" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.pixel_to_nm_scaling">
<span class="sig-name descname"><span class="pre">pixel_to_nm_scaling</span></span><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.pixel_to_nm_scaling" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.max_length">
<span class="sig-name descname"><span class="pre">max_length</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.max_length" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.height_threshold">
<span class="sig-name descname"><span class="pre">height_threshold</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.height_threshold" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.method_values">
<span class="sig-name descname"><span class="pre">method_values</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.method_values" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.method_outlier">
<span class="sig-name descname"><span class="pre">method_outlier</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.method_outlier" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.only_height_prune_endpoints">
<span class="sig-name descname"><span class="pre">only_height_prune_endpoints</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.only_height_prune_endpoints" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune.prune_skeleton">
<span class="sig-name descname"><span class="pre">prune_skeleton</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#topostatsPrune.prune_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune.prune_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Prune skeleton by length and/or height.</p>
<p>If the class was initialised with both <cite>max_length is not None</cite> an d <cite>height_threshold is not None</cite> then length
based pruning is performed prior to height based pruning.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pruned skeleton.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune._prune_by_length">
<span class="sig-name descname"><span class="pre">_prune_by_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">single_skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#topostatsPrune._prune_by_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune._prune_by_length" title="Link to this definition">#</a></dt>
<dd><p>Remove hanging branches from a skeleton by their length.</p>
<p>This is an iterative process as these are a persistent problem in the overall tracing process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>single_skeleton</strong> (<em>npt.NDArray</em>) – Binary array of the skeleton.</p></li>
<li><p><strong>max_length</strong> (<em>float</em>) – Maximum length of the branch to prune in nanometers (nm).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pruned skeleton as binary array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.topostatsPrune._find_branch_ends">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_find_branch_ends</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#topostatsPrune._find_branch_ends"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.topostatsPrune._find_branch_ends" title="Link to this definition">#</a></dt>
<dd><p>Identify branch ends.</p>
<p>This is achieved by iterating through the coordinates and assessing the local pixel area. Ends have only one
adjacent pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coordinates</strong> (<em>list</em>) – List of x, y coordinates of a branch.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of x, y coordinates of the branch ends.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">heightPruning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_outlier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_height_prune_endpoints</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning" title="Link to this definition">#</a></dt>
<dd><p>Pruning of branches based on height.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>npt.NDArray</em>) – Original image, typically the height data.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Skeleton to prune branches from.</p></li>
<li><p><strong>max_length</strong> (<em>float</em>) – Maximum length of the branch to prune in nanometres (nm).</p></li>
<li><p><strong>height_threshold</strong> (<em>float</em>) – Absolute height value to remove branches below in nanometers (nm).</p></li>
<li><p><strong>method_values</strong> (<em>str</em>) – Method of obtaining the height thresholding values. Options are ‘min’ (minimum value of the branch),
‘median’ (median value of the branch) or ‘mid’ (ordered branch middle coordinate value).</p></li>
<li><p><strong>method_outlier</strong> (<em>str</em>) – Method to prune branches based on height. Options are ‘abs’ (below absolute value), ‘mean_abs’ (below the
skeleton mean - absolute threshold) or ‘iqr’ (below 1.5 * inter-quartile range).</p></li>
<li><p><strong>only_height_prune_endpoints</strong> (<em>bool</em>) – Whether to only prune endpoints by height, or all skeleton segments. Default is True.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.image">
<span class="sig-name descname"><span class="pre">image</span></span><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.image" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.skeleton">
<span class="sig-name descname"><span class="pre">skeleton</span></span><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.skeleton" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.skeleton_convolved">
<span class="sig-name descname"><span class="pre">skeleton_convolved</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.skeleton_convolved" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.skeleton_branches">
<span class="sig-name descname"><span class="pre">skeleton_branches</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.skeleton_branches" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.skeleton_branches_labelled">
<span class="sig-name descname"><span class="pre">skeleton_branches_labelled</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.skeleton_branches_labelled" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.max_length">
<span class="sig-name descname"><span class="pre">max_length</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.max_length" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.height_threshold">
<span class="sig-name descname"><span class="pre">height_threshold</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.height_threshold" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.method_values">
<span class="sig-name descname"><span class="pre">method_values</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.method_values" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.method_outlier">
<span class="sig-name descname"><span class="pre">method_outlier</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.method_outlier" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.only_height_prune_endpoints">
<span class="sig-name descname"><span class="pre">only_height_prune_endpoints</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.only_height_prune_endpoints" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.skeleton_pruned">
<span class="sig-name descname"><span class="pre">skeleton_pruned</span></span><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.skeleton_pruned" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.convolve_skeleton">
<span class="sig-name descname"><span class="pre">convolve_skeleton</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.convolve_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.convolve_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Convolve skeleton.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.segment_skeleton">
<span class="sig-name descname"><span class="pre">segment_skeleton</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.segment_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.segment_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Convolve skeleton and break into segments at nodes/junctions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.label_branches">
<span class="sig-name descname"><span class="pre">label_branches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.label_branches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.label_branches" title="Link to this definition">#</a></dt>
<dd><p>Label segmented branches.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_branch_mins">
<span class="sig-name descname"><span class="pre">_get_branch_mins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_branch_mins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_branch_mins" title="Link to this definition">#</a></dt>
<dd><p>Collect the minimum height value of each individually labeled branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>segments</strong> (<em>npt.NDArray</em>) – Integer labeled array matching the dimensions of the image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of minimum values of each branch index -1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_branch_medians">
<span class="sig-name descname"><span class="pre">_get_branch_medians</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_branch_medians"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_branch_medians" title="Link to this definition">#</a></dt>
<dd><p>Collect the median height value of each labeled branch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>segments</strong> (<em>npt.NDArray</em>) – Integer labeled array matching the dimensions of the image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of median values of each branch index -1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_branch_middles">
<span class="sig-name descname"><span class="pre">_get_branch_middles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_branch_middles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_branch_middles" title="Link to this definition">#</a></dt>
<dd><p>Collect the positionally ordered middle height value of each labeled branch.</p>
<p>Where the branch has an even amount of points, average the two middle heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>segments</strong> (<em>npt.NDArray</em>) – Integer labeled array matching the dimensions of the image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of middle values of each branch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_abs_thresh_idx">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_abs_thresh_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_abs_thresh_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_abs_thresh_idx" title="Link to this definition">#</a></dt>
<dd><p>Identify indices of labelled branches whose height values are less than a given threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height_values</strong> (<em>npt.NDArray</em>) – Array of each branches heights.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em> | </em><em>int</em>) – Threshold for heights.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Branch indices which are less than threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_mean_abs_thresh_idx">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_mean_abs_thresh_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">height_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_mean_abs_thresh_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_mean_abs_thresh_idx" title="Link to this definition">#</a></dt>
<dd><p>Identify indices of labelled branch whose height values are less than mean skeleton height - absolute threshold.</p>
<p>For DNA a threshold of 0.85nm (the depth of the major groove) would ideally remove all segments whose lowest
point is &lt; mean(height) - 0.85nm, i.e. 1.15nm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>height_values</strong> (<em>npt.NDArray</em>) – Array of branches heights.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em> | </em><em>int</em>) – Threshold to be subtracted from mean heights.</p></li>
<li><p><strong>image</strong> (<em>npt.NDArray</em>) – Original image of heights.</p></li>
<li><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Binary array of skeleton used to identify heights from original image to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Branch indices which are less than mean(height) - threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._get_iqr_thresh_idx">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_get_iqr_thresh_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._get_iqr_thresh_idx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._get_iqr_thresh_idx" title="Link to this definition">#</a></dt>
<dd><p>Identify labelled branch indices whose heights are less than 1.5 x interquartile range of all heights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>npt.NDArray</em>) – Original image with heights.</p></li>
<li><p><strong>segments</strong> (<em>npt.NDArray</em>) – Array of skeleton branches.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Branch indices where heights are &lt; 1.5 * inter-quartile range.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.check_skeleton_one_object">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_skeleton_one_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.check_skeleton_one_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.check_skeleton_one_object" title="Link to this definition">#</a></dt>
<dd><p>Ensure that the skeleton hasn’t been broken up upon removing a segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – 2D single pixel thick array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False depending on whether there is 1 or !1 objects.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.filter_segments">
<span class="sig-name descname"><span class="pre">filter_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.filter_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.filter_segments" title="Link to this definition">#</a></dt>
<dd><p>Identify and remove segments of a skeleton based on the underlying image height.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>segments</strong> (<em>npt.NDArray</em>) – A labelled 2D array of skeleton segments.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The original skeleton without the segments identified by the height criteria.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning.height_prune">
<span class="sig-name descname"><span class="pre">height_prune</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning.height_prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning.height_prune" title="Link to this definition">#</a></dt>
<dd><p>Identify and remove spurious branches (containing endpoints) using the underlying image height.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A skeleton with outer branches removed by height.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.tracing.pruning.heightPruning._split_skeleton">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_split_skeleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#heightPruning._split_skeleton"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.heightPruning._split_skeleton" title="Link to this definition">#</a></dt>
<dd><p>Split the skeleton into branches by removing junctions/nodes and label branches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – Convolved skeleton to be split. This should have nodes labelled as 3, ends as 2 and all other points as 1.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Removes the junctions (3) and returns all remaining sections as labelled segments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning.order_branch_from_end">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">order_branch_from_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodeless</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">np.inf</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.typing.NDArray</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#order_branch_from_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.order_branch_from_end" title="Link to this definition">#</a></dt>
<dd><p>Take a linear branch and orders its coordinates starting from a specific endpoint.</p>
<p>NB - It may be possible to use np.lexsort() to order points, see topostats.measure.feret.sort_coords() for an
example of how to sort by row or column coordinates, which end of the branch this is from probably doesn’t matter
as one only wants to find the mid-point I think.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nodeless</strong> (<em>npt.NDArray</em>) – A 2D binary array where there are no crossing pixels.</p></li>
<li><p><strong>start</strong> (<em>list</em>) – A coordinate to start closest to / at.</p></li>
<li><p><strong>max_length</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum length to order along the branch, in pixels, by default np.inf.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input linear branch ordered from the start coordinate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning.rm_nibs">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">rm_nibs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skeleton</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#rm_nibs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.rm_nibs" title="Link to this definition">#</a></dt>
<dd><p>Remove single pixel branches (nibs) not identified by nearest neighbour algorithms as there may be &gt;2 neighbours.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>skeleton</strong> (<em>npt.NDArray</em>) – A single pixel thick trace.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A skeleton with single pixel nibs removed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>npt.NDArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.tracing.pruning.local_area_sum">
<span class="sig-prename descclassname"><span class="pre">topostats.tracing.pruning.</span></span><span class="sig-name descname"><span class="pre">local_area_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.typing.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">numpy.typing.NDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="../../../../_modules/topostats/tracing/pruning.html#local_area_sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#topostats.tracing.pruning.local_area_sum" title="Link to this definition">#</a></dt>
<dd><p>Evaluate the local area around a point in a binary map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>npt.NDArray</em>) – Binary array of image.</p></li>
<li><p><strong>point</strong> (<em>list</em><em> | </em><em>tuple</em><em> | </em><em>npt.NDArray</em>) – Coordinates of a point within the binary_map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple consisting of an array values of the local coordinates around the point and the number of neighbours
around the point.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../ordered_tracing/index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">topostats.tracing.ordered_tracing</p>
      </div>
    </a>
    <a class="right-next"
       href="../skeletonize/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">topostats.tracing.skeletonize</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attributes">Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-contents">Module Contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.LOGGER"><code class="docutils literal notranslate"><span class="pre">LOGGER</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.prune_skeleton"><code class="docutils literal notranslate"><span class="pre">prune_skeleton()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning._prune_method"><code class="docutils literal notranslate"><span class="pre">_prune_method()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning._prune_topostats"><code class="docutils literal notranslate"><span class="pre">_prune_topostats()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune"><code class="docutils literal notranslate"><span class="pre">topostatsPrune</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.img"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.img</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.skeleton"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.skeleton</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.pixel_to_nm_scaling"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.pixel_to_nm_scaling</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.max_length"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.height_threshold"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.height_threshold</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.method_values"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.method_values</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.method_outlier"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.method_outlier</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.only_height_prune_endpoints"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.only_height_prune_endpoints</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune.prune_skeleton"><code class="docutils literal notranslate"><span class="pre">topostatsPrune.prune_skeleton()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune._prune_by_length"><code class="docutils literal notranslate"><span class="pre">topostatsPrune._prune_by_length()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.topostatsPrune._find_branch_ends"><code class="docutils literal notranslate"><span class="pre">topostatsPrune._find_branch_ends()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning"><code class="docutils literal notranslate"><span class="pre">heightPruning</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.image"><code class="docutils literal notranslate"><span class="pre">heightPruning.image</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.skeleton"><code class="docutils literal notranslate"><span class="pre">heightPruning.skeleton</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.skeleton_convolved"><code class="docutils literal notranslate"><span class="pre">heightPruning.skeleton_convolved</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.skeleton_branches"><code class="docutils literal notranslate"><span class="pre">heightPruning.skeleton_branches</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.skeleton_branches_labelled"><code class="docutils literal notranslate"><span class="pre">heightPruning.skeleton_branches_labelled</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.max_length"><code class="docutils literal notranslate"><span class="pre">heightPruning.max_length</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.height_threshold"><code class="docutils literal notranslate"><span class="pre">heightPruning.height_threshold</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.method_values"><code class="docutils literal notranslate"><span class="pre">heightPruning.method_values</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.method_outlier"><code class="docutils literal notranslate"><span class="pre">heightPruning.method_outlier</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.only_height_prune_endpoints"><code class="docutils literal notranslate"><span class="pre">heightPruning.only_height_prune_endpoints</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.skeleton_pruned"><code class="docutils literal notranslate"><span class="pre">heightPruning.skeleton_pruned</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.convolve_skeleton"><code class="docutils literal notranslate"><span class="pre">heightPruning.convolve_skeleton()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.segment_skeleton"><code class="docutils literal notranslate"><span class="pre">heightPruning.segment_skeleton()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.label_branches"><code class="docutils literal notranslate"><span class="pre">heightPruning.label_branches()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_branch_mins"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_branch_mins()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_branch_medians"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_branch_medians()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_branch_middles"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_branch_middles()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_abs_thresh_idx"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_abs_thresh_idx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_mean_abs_thresh_idx"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_mean_abs_thresh_idx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._get_iqr_thresh_idx"><code class="docutils literal notranslate"><span class="pre">heightPruning._get_iqr_thresh_idx()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.check_skeleton_one_object"><code class="docutils literal notranslate"><span class="pre">heightPruning.check_skeleton_one_object()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.filter_segments"><code class="docutils literal notranslate"><span class="pre">heightPruning.filter_segments()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning.height_prune"><code class="docutils literal notranslate"><span class="pre">heightPruning.height_prune()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.heightPruning._split_skeleton"><code class="docutils literal notranslate"><span class="pre">heightPruning._split_skeleton()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.order_branch_from_end"><code class="docutils literal notranslate"><span class="pre">order_branch_from_end()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.rm_nibs"><code class="docutils literal notranslate"><span class="pre">rm_nibs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.tracing.pruning.local_area_sum"><code class="docutils literal notranslate"><span class="pre">local_area_sum()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../_sources/autoapi/topostats/tracing/pruning/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, TopoStats authors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>