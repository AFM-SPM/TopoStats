
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>topostats.io &#8212; TopoStats 2.3.3.dev27+g279473507 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=2b4ec01c" />
  
  <!-- So that users can add custom icons -->
  <script src="../../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../_static/documentation_options.js?v=766c09a3"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'autoapi/topostats/io/index';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="topostats.logs" href="../logs/index.html" />
    <link rel="prev" title="topostats.grainstats" href="../grainstats/index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.3" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">TopoStats 2.3.3.dev27+g279473507 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../contributing.html">
    Contributing
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../notebooks.html">
    Notebooks
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../workflow.html">
    Workflow
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../data_dictionary.html">
    Data Dictionary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../related_software.html">
    Related Software
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../glossary.html">
    Glossary
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../faq.html">
    Frequently Asked Questions
  </a>
</li>


<li class=" current active">
  <a class="nav-link dropdown-item nav-internal" href="../../index.html">
    API Reference
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../introduction.html">
    Introduction
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../installation.html">
    Installation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../configuration.html">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../contributing.html">
    Contributing
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../notebooks.html">
    Notebooks
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../workflow.html">
    Workflow
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../data_dictionary.html">
    Data Dictionary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../related_software.html">
    Related Software
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../glossary.html">
    Glossary
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../faq.html">
    Frequently Asked Questions
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../../index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3>Versions</h3>
<ul>
  <li><a href="../../../../v2.0.0/index.html">v2.0.0</a></li>
  <li><a href="../../../../v2.1.0/index.html">v2.1.0</a></li>
  <li><a href="index.html">v2.1.1</a></li>
  <li><a href="../../../../v2.1.2/index.html">v2.1.2</a></li>
  <li><a href="../../../../v2.2.0/index.html">v2.2.0</a></li>
  <li><a href="../../../../v2.2.1/index.html">v2.2.1</a></li>
  <li><a href="../../../../v2.2.post0/index.html">v2.2.post0</a></li>
  <li><a href="../../../../v2.3.0/index.html">v2.3.0</a></li>
  <li><a href="../../../../v2.3.1/index.html">v2.3.1</a></li>
  <li><a href="../../../../v2.3.2/index.html">v2.3.2</a></li>
  <li><a href="../../../../v2.3.2rc1/index.html">v2.3.2rc1</a></li>
  <li><a href="../../../../v2.3.2rc2/index.html">v2.3.2rc2</a></li>
  <li><a href="../../../../main/index.html">main</a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">topostats</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">topostats.io</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-topostats.io">
<span id="topostats-io"></span><h1>topostats.io<a class="headerlink" href="#module-topostats.io" title="Link to this heading">#</a></h1>
<p>Functions for reading and writing data.</p>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.LOGGER" title="topostats.io.LOGGER"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOGGER</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.CONFIG_DOCUMENTATION_REFERENCE" title="topostats.io.CONFIG_DOCUMENTATION_REFERENCE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CONFIG_DOCUMENTATION_REFERENCE</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.LoadScans" title="topostats.io.LoadScans"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LoadScans</span></code></a></p></td>
<td><p>Load the image and image parameters from a file path.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.read_yaml" title="topostats.io.read_yaml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_yaml</span></code></a>(→ Dict)</p></td>
<td><p>Read a YAML file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.get_date_time" title="topostats.io.get_date_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_date_time</span></code></a>(→ str)</p></td>
<td><p>Get a date and time for adding to generated files or logging.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.write_yaml" title="topostats.io.write_yaml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_yaml</span></code></a>(→ None)</p></td>
<td><p>Write a configuration (stored as a dictionary) to a YAML file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.write_config_with_comments" title="topostats.io.write_config_with_comments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_config_with_comments</span></code></a>(→ None)</p></td>
<td><p>Create a config file, retaining the comments by writing it as a string</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.save_array" title="topostats.io.save_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_array</span></code></a>(→ None)</p></td>
<td><p>Save a Numpy array to disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.load_array" title="topostats.io.load_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_array</span></code></a>(→ numpy.ndarray)</p></td>
<td><p>Load a Numpy array from file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.path_to_str" title="topostats.io.path_to_str"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path_to_str</span></code></a>(→ Dict)</p></td>
<td><p>Recursively traverse a dictionary and convert any Path() objects to strings for writing to YAML.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.get_out_path" title="topostats.io.get_out_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_out_path</span></code></a>(→ pathlib.Path)</p></td>
<td><p>Adds the image path relative to the base directory to the output directory.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.find_files" title="topostats.io.find_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_files</span></code></a>(→ List)</p></td>
<td><p>Recursively scan the specified directory for images with the given file extension.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.save_folder_grainstats" title="topostats.io.save_folder_grainstats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_folder_grainstats</span></code></a>(→ None)</p></td>
<td><p>Saves a data frame of grain and tracing statictics at the folder level.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.read_null_terminated_string" title="topostats.io.read_null_terminated_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_null_terminated_string</span></code></a>(→ str)</p></td>
<td><p>Read an open file from the current position in the open binary file,</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.read_u32i" title="topostats.io.read_u32i"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_u32i</span></code></a>(→ str)</p></td>
<td><p>Read an unsigned 32 bit integer from an open binary file (in little-endian form).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.read_64d" title="topostats.io.read_64d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_64d</span></code></a>(→ str)</p></td>
<td><p>Read a 64-bit double from an open binary file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.read_char" title="topostats.io.read_char"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_char</span></code></a>(→ str)</p></td>
<td><p>Read a character from an open binary file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.read_gwy_component_dtype" title="topostats.io.read_gwy_component_dtype"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_gwy_component_dtype</span></code></a>(→ str)</p></td>
<td><p>Read the data type of a <cite>.gwy</cite> file component.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.get_relative_paths" title="topostats.io.get_relative_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_relative_paths</span></code></a>(→ List[str])</p></td>
<td><p>From a list of paths, create a list of these paths but where</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.convert_basename_to_relative_paths" title="topostats.io.convert_basename_to_relative_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_basename_to_relative_paths</span></code></a>(df)</p></td>
<td><p>Converts the paths in the 'basename' column in a dataframe from being</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.save_topostats_file" title="topostats.io.save_topostats_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_topostats_file</span></code></a>(→ None)</p></td>
<td><p>Save a topostats dictionary object to a .topostats (hdf5 format) file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#topostats.io.save_pkl" title="topostats.io.save_pkl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_pkl</span></code></a>(→ None)</p></td>
<td><p>Pickle objects for working with later.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#topostats.io.load_pkl" title="topostats.io.load_pkl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pkl</span></code></a>(→ Any)</p></td>
<td><p>Load data from a pickle.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">#</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="topostats.io.LOGGER">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">LOGGER</span></span><a class="headerlink" href="#topostats.io.LOGGER" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="topostats.io.CONFIG_DOCUMENTATION_REFERENCE">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">CONFIG_DOCUMENTATION_REFERENCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Multiline-String</span></em><a class="headerlink" href="#topostats.io.CONFIG_DOCUMENTATION_REFERENCE" title="Link to this definition">#</a></dt>
<dd><details><summary>Show Value</summary><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;For more information on configuration and how to use it:</span>
<span class="sd"># https://afm-spm.github.io/TopoStats/main/configuration.html</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</details></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_yaml">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#topostats.io.read_yaml" title="Link to this definition">#</a></dt>
<dd><p>Read a YAML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – YAML file to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.get_date_time">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">get_date_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.get_date_time" title="Link to this definition">#</a></dt>
<dd><p>Get a date and time for adding to generated files or logging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>None</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string of the current date and time, formatted appropriately.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.write_yaml">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">write_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'config.yaml'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.write_yaml" title="Link to this definition">#</a></dt>
<dd><p>Write a configuration (stored as a dictionary) to a YAML file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>dict</em>) – Configuration dictionary.</p></li>
<li><p><strong>output_dir</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to save the dictionary to as a YAML file (it will be called ‘config.yaml’).</p></li>
<li><p><strong>config_file</strong> (<em>str</em>) – Filename to write to.</p></li>
<li><p><strong>header_message</strong> (<em>str</em>) – String to write to the header message of the YAML file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.write_config_with_comments">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">write_config_with_comments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'config.yaml'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.write_config_with_comments" title="Link to this definition">#</a></dt>
<dd><p>Create a config file, retaining the comments by writing it as a string
rather than using a yaml handling package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>str</em>) – A string of the entire configuration file to be saved.</p></li>
<li><p><strong>output_dir</strong> (<em>Path</em>) – A pathlib path of where to create the config file.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – A name for the configuration file. Can have a “.yaml” on the end.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.save_array">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">save_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.save_array" title="Link to this definition">#</a></dt>
<dd><p>Save a Numpy array to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>np.ndarray</em>) – Numpy array to be saved.</p></li>
<li><p><strong>outpath</strong> (<em>Path</em>) – Location array should be saved</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Filename of the current image from which the array is derived.</p></li>
<li><p><strong>array_type</strong> (<em>str</em>) – Short string describing the array type e.g. z_threshold. Ideally should not have periods or spaces in (use</p></li>
<li><p><strong>instead</strong><strong>)</strong><strong>.</strong> (<em>underscores '_'</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.load_array">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">load_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">numpy.ndarray</span></span></span><a class="headerlink" href="#topostats.io.load_array" title="Link to this definition">#</a></dt>
<dd><p>Load a Numpy array from file.</p>
<p>Should have been saved using save_array() or numpy.save().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>array_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to the Numpy array on disk.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns the loaded Numpy array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.path_to_str">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">path_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#topostats.io.path_to_str" title="Link to this definition">#</a></dt>
<dd><p>Recursively traverse a dictionary and convert any Path() objects to strings for writing to YAML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – Dictionary to be converted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same dictionary with any Path() objects converted to string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.get_out_path">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">get_out_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pathlib.Path</span></span></span><a class="headerlink" href="#topostats.io.get_out_path" title="Link to this definition">#</a></dt>
<dd><p>Adds the image path relative to the base directory to the output directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_path</strong> (<em>Path</em>) – The path of the current image.</p></li>
<li><p><strong>base_dir</strong> (<em>Path</em>) – Directory to recursively search for files.</p></li>
<li><p><strong>output_dir</strong> (<em>Path</em>) – The output directory specified in the configuration file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output path that mirrors the input path structure.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.find_files">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">find_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_ext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.spm'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#topostats.io.find_files" title="Link to this definition">#</a></dt>
<dd><p>Recursively scan the specified directory for images with the given file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_dir</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Directory to recursively search for files, if not specified the current directory is scanned.</p></li>
<li><p><strong>file_ext</strong> (<em>str</em>) – File extension to search for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of files found with the extension in the given directory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.save_folder_grainstats">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">save_folder_grainstats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_stats_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.save_folder_grainstats" title="Link to this definition">#</a></dt>
<dd><p>Saves a data frame of grain and tracing statictics at the folder level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path of the output directory head.</p></li>
<li><p><strong>base_dir</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path of the base directory where files were found.</p></li>
<li><p><strong>all_stats_df</strong> (<em>pd.DataFrame</em>) – The dataframe containing all sample statistics run.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This only saves the dataframes and does not retain them.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_null_terminated_string">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_null_terminated_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.read_null_terminated_string" title="Link to this definition">#</a></dt>
<dd><p>Read an open file from the current position in the open binary file,
until the next null value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>open_file</strong> (<em>io.TextIOWrapper</em>) – An open file object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of the ASCII decoded bytes before the next null byte.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_u32i">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_u32i</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.read_u32i" title="Link to this definition">#</a></dt>
<dd><p>Read an unsigned 32 bit integer from an open binary file (in little-endian form).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>open_file</strong> (<em>io.TextIOWrapper</em>) – An open file object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Python integer type cast from the unsigned 32 bit integer.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_64d">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_64d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.read_64d" title="Link to this definition">#</a></dt>
<dd><p>Read a 64-bit double from an open binary file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>open_file</strong> – An open file object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Python float type cast from the double.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_char">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_char</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.read_char" title="Link to this definition">#</a></dt>
<dd><p>Read a character from an open binary file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>open_file</strong> (<em>io.TextIOWrapper</em>) – An open file object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string type cast from the decoded character.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.read_gwy_component_dtype">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">read_gwy_component_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#topostats.io.read_gwy_component_dtype" title="Link to this definition">#</a></dt>
<dd><p>Read the data type of a <cite>.gwy</cite> file component.
Possible data types are as follows:
- ‘b’: boolean
- ‘c’: character
- ‘i’: 32-bit integer
- ‘q’: 64-bit integer
- ‘d’: double
- ‘s’: string
- ‘o’: <cite>.gwy</cite> format object
Capitalised versions of some of these data types represent arrays of values of that
data type. Arrays are stored as an unsigned 32 bit integer, describing the size of the array,
followed by the unseparated array values.
- ‘C’: array of characters
- ‘I’: array of 32-bit integers
- ‘Q’: array of 64-bit integers
- ‘D’: array of doubles
- ‘S’: array of strings
- ‘O’: array of objects</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>open_file</strong> (<em>io.TextIOWrapper</em>) – An open file object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Python string (one character long) of the data type of the
component’s value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.get_relative_paths">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">get_relative_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#topostats.io.get_relative_paths" title="Link to this definition">#</a></dt>
<dd><p>From a list of paths, create a list of these paths but where
each path is relative to all path’s closest common parent. For
example, [‘a/b/c’, ‘a/b/d’, ‘a/b/e/f’] would return [‘c’, ‘d’, ‘e/f’]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>paths</strong> (<em>list</em>) – List of string or pathlib paths.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>relative_paths</strong> – List of string paths, relative to the common parent.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.convert_basename_to_relative_paths">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">convert_basename_to_relative_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#topostats.io.convert_basename_to_relative_paths" title="Link to this definition">#</a></dt>
<dd><p>Converts the paths in the ‘basename’ column in a dataframe from being
absolute paths, to paths relative to the deepest common parent. For example
if the ‘basename’ column has the following paths: [‘/usr/topo/data/a/b’, ‘/usr
/topo/data/c/d’], the output will be: [‘a/b’, ‘c/d’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pandas dataframe containing a column ‘basename’ which contains the paths
indicating the locations of the image data files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> – A pandas dataframe where the ‘basename’ column has paths relative to a common
parent.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="topostats.io.LoadScans">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">LoadScans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#topostats.io.LoadScans" title="Link to this definition">#</a></dt>
<dd><p>Load the image and image parameters from a file path.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.img_paths">
<span class="sig-name descname"><span class="pre">img_paths</span></span><a class="headerlink" href="#topostats.io.LoadScans.img_paths" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.img_path">
<span class="sig-name descname"><span class="pre">img_path</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.io.LoadScans.img_path" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.channel">
<span class="sig-name descname"><span class="pre">channel</span></span><a class="headerlink" href="#topostats.io.LoadScans.channel" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.channel_data">
<span class="sig-name descname"><span class="pre">channel_data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.io.LoadScans.channel_data" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.io.LoadScans.filename" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.image">
<span class="sig-name descname"><span class="pre">image</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.io.LoadScans.image" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.pixel_to_nm_scaling">
<span class="sig-name descname"><span class="pre">pixel_to_nm_scaling</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#topostats.io.LoadScans.pixel_to_nm_scaling" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.grain_masks">
<span class="sig-name descname"><span class="pre">grain_masks</span></span><a class="headerlink" href="#topostats.io.LoadScans.grain_masks" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.img_dict">
<span class="sig-name descname"><span class="pre">img_dict</span></span><a class="headerlink" href="#topostats.io.LoadScans.img_dict" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="topostats.io.LoadScans.MINIMUM_IMAGE_SIZE">
<span class="sig-name descname"><span class="pre">MINIMUM_IMAGE_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#topostats.io.LoadScans.MINIMUM_IMAGE_SIZE" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.load_spm">
<span class="sig-name descname"><span class="pre">load_spm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.load_spm" title="Link to this definition">#</a></dt>
<dd><p>Extract image and pixel to nm scaling from the Bruker .spm file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the image and its pixel to nanometre scaling value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple(np.ndarray, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._spm_pixel_to_nm_scaling">
<span class="sig-name descname"><span class="pre">_spm_pixel_to_nm_scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pySPM.SPM.SPM_image</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._spm_pixel_to_nm_scaling" title="Link to this definition">#</a></dt>
<dd><p>Extract pixel to nm scaling from the SPM image metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channel_data</strong> (<em>pySPM.SPM.SPM_image</em>) – Channel data from PySPM.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pixel to nm scaling factor.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.load_topostats">
<span class="sig-name descname"><span class="pre">load_topostats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.load_topostats" title="Link to this definition">#</a></dt>
<dd><p>Load a .topostats file (hdf5 format), extracting the image, pixel to nanometre scaling
factor and any grain masks. Note that grain masks are stored via self.grain_masks rather
than returned due to how we extract information for all other file loading functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the image and its pixel to nanometre scaling value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple(np.ndarray, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.load_ibw">
<span class="sig-name descname"><span class="pre">load_ibw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.load_ibw" title="Link to this definition">#</a></dt>
<dd><p>Loads image from Asylum Research (Igor) .ibw files</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the image and its pixel to nanometre scaling value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple(np.ndarray, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._ibw_pixel_to_nm_scaling">
<span class="sig-name descname"><span class="pre">_ibw_pixel_to_nm_scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._ibw_pixel_to_nm_scaling" title="Link to this definition">#</a></dt>
<dd><p>Extract pixel to nm scaling from the IBW image metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scan</strong> (<em>dict</em>) – The loaded binary wave object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A value corresponding to the real length of a single pixel.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.load_jpk">
<span class="sig-name descname"><span class="pre">load_jpk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.load_jpk" title="Link to this definition">#</a></dt>
<dd><p>Loads image from JPK Instruments .jpk files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the image and its pixel to nanometre scaling value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple(np.ndarray, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._jpk_pixel_to_nm_scaling">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_jpk_pixel_to_nm_scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tiff_page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tifffile.tifffile.TiffPage</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._jpk_pixel_to_nm_scaling" title="Link to this definition">#</a></dt>
<dd><p>Extract pixel to nm scaling from the JPK image metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tiff_page</strong> (<em>tifffile.tifffile.TiffPage</em>) – An image file directory (IFD) of .jpk files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A value corresponding to the real length of a single pixel.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._gwy_read_object">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_gwy_read_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._gwy_read_object" title="Link to this definition">#</a></dt>
<dd><p>Parse and extract data from a <cite>.gwy</cite> file object, starting at the current
open file read position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>open_file</strong> (<em>io.TextIOWrapper</em>) – An open file object.</p></li>
<li><p><strong>data_dict</strong> (<em>dict</em>) – Dictionary of <cite>.gwy</cite> file image properties.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._gwy_read_component">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_gwy_read_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">open_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">io.TextIOWrapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_byte_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._gwy_read_component" title="Link to this definition">#</a></dt>
<dd><p>Parse and extract data from a <cite>.gwy</cite> file object, starting at the current
open file read position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>open_file</strong> (<em>io.TextIOWrapper</em><em>,</em>) – An open file object.</p></li>
<li><p><strong>data_dict</strong> (<em>dict</em>) – Dictionary of <cite>.gwy</cite> file image properties.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Size of the component in bytes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._gwy_print_dict">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_gwy_print_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gwy_file_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._gwy_print_dict" title="Link to this definition">#</a></dt>
<dd><p>A developer function to print the nested object / component structure. Can
be used to find labels and values of objects / components in the <cite>.gwy</cite> file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gwy_file_dict</strong> (<em>dict</em>) – Dictionary of the nested object / component structure of a <cite>.gwy</cite> file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._gwy_print_dict_wrapper">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_gwy_print_dict_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gwy_file_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._gwy_print_dict_wrapper" title="Link to this definition">#</a></dt>
<dd><p>Wrapper for the <cite>_print_gwy_dict</cite> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gwy_file_dict</strong> (<em>dict</em>) – Dictionary of the nested object / component structure of a <cite>.gwy</cite> file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.load_gwy">
<span class="sig-name descname"><span class="pre">load_gwy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.load_gwy" title="Link to this definition">#</a></dt>
<dd><p>Extract image and pixel to nm scaling from the Gwyddion .gwy file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A tuple containing the image and its pixel to nanometre scaling value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple(np.ndarray, float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.get_data" title="Link to this definition">#</a></dt>
<dd><p>Method to extract image, filepath and pixel to nm scaling value, and append these to the
img_dic object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans._check_image_size_and_add_to_dict">
<span class="sig-name descname"><span class="pre">_check_image_size_and_add_to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans._check_image_size_and_add_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Check the image is above a minimum size in both dimensions.</p>
<p>Images that do not meet the minimum size are not included for processing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="topostats.io.LoadScans.add_to_dict">
<span class="sig-name descname"><span class="pre">add_to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.LoadScans.add_to_dict" title="Link to this definition">#</a></dt>
<dd><p>Adds the image, image path and pixel to nanometre scaling value to the img_dic dictionary under
the key filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The filename, idealy without an extension.</p></li>
<li><p><strong>image</strong> (<em>np.ndarray</em>) – An array of the extracted AFM image.</p></li>
<li><p><strong>img_path</strong> (<em>str</em>) – The path to the AFM file (with a frame number if applicable)</p></li>
<li><p><strong>px_2_nm</strong> (<em>float</em>) – The length of a pixel in nm.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.save_topostats_file">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">save_topostats_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topostats_object</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.save_topostats_file" title="Link to this definition">#</a></dt>
<dd><p>Save a topostats dictionary object to a .topostats (hdf5 format) file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> (<em>Path</em>) – Directory to save the .topostats file in.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – File name of the .topostats file.</p></li>
<li><p><strong>topostats_object</strong> (<em>dict</em>) – Dictionary of the topostats data to save. Must include a flattened image and
pixel to nanometre scaling factor. May also include grain masks.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.save_pkl">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">save_pkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_pkl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#topostats.io.save_pkl" title="Link to this definition">#</a></dt>
<dd><p>Pickle objects for working with later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outfile</strong> (<em>Path</em>) – Path and filename to save pickle to.</p></li>
<li><p><strong>to_pkl</strong> (<em>dict</em>) – Object to be picled.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="topostats.io.load_pkl">
<span class="sig-prename descclassname"><span class="pre">topostats.io.</span></span><span class="sig-name descname"><span class="pre">load_pkl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib.Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#topostats.io.load_pkl" title="Link to this definition">#</a></dt>
<dd><p>Load data from a pickle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>infile</strong> (<em>Path</em>) – Path to a valid pickle.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of generated images.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>from pathlib import Path</p>
<p>from topostats.io import load_plots</p>
<p>pkl_path = “output/distribution_plots.pkl”
my_plots = load_pkl(pkl_path)
# Show the type of my_plots which is a dictionary of nested dictionaries
type(my_plots)
# Show the keys are various levels of nesting.
my_plots.keys()
my_plots[“area”].keys()
my_plots[“area”][“dist”].keys()
# Get the figure and axis object for a given metrics distribution plot
figure, axis = my_plots[“area”][“dist”].values()
# Get the figure and axis object for a given metrics violin plot
figure, axis = my_plots[“area”][“violin”].values()</p>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../grainstats/index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">topostats.grainstats</p>
      </div>
    </a>
    <a class="right-next"
       href="../logs/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">topostats.logs</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#attributes">Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-contents">Module Contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LOGGER"><code class="docutils literal notranslate"><span class="pre">LOGGER</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.CONFIG_DOCUMENTATION_REFERENCE"><code class="docutils literal notranslate"><span class="pre">CONFIG_DOCUMENTATION_REFERENCE</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_yaml"><code class="docutils literal notranslate"><span class="pre">read_yaml()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.get_date_time"><code class="docutils literal notranslate"><span class="pre">get_date_time()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.write_yaml"><code class="docutils literal notranslate"><span class="pre">write_yaml()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.write_config_with_comments"><code class="docutils literal notranslate"><span class="pre">write_config_with_comments()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.save_array"><code class="docutils literal notranslate"><span class="pre">save_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.load_array"><code class="docutils literal notranslate"><span class="pre">load_array()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.path_to_str"><code class="docutils literal notranslate"><span class="pre">path_to_str()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.get_out_path"><code class="docutils literal notranslate"><span class="pre">get_out_path()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.find_files"><code class="docutils literal notranslate"><span class="pre">find_files()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.save_folder_grainstats"><code class="docutils literal notranslate"><span class="pre">save_folder_grainstats()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_null_terminated_string"><code class="docutils literal notranslate"><span class="pre">read_null_terminated_string()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_u32i"><code class="docutils literal notranslate"><span class="pre">read_u32i()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_64d"><code class="docutils literal notranslate"><span class="pre">read_64d()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_char"><code class="docutils literal notranslate"><span class="pre">read_char()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.read_gwy_component_dtype"><code class="docutils literal notranslate"><span class="pre">read_gwy_component_dtype()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.get_relative_paths"><code class="docutils literal notranslate"><span class="pre">get_relative_paths()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.convert_basename_to_relative_paths"><code class="docutils literal notranslate"><span class="pre">convert_basename_to_relative_paths()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans"><code class="docutils literal notranslate"><span class="pre">LoadScans</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.img_paths"><code class="docutils literal notranslate"><span class="pre">LoadScans.img_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.img_path"><code class="docutils literal notranslate"><span class="pre">LoadScans.img_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.channel"><code class="docutils literal notranslate"><span class="pre">LoadScans.channel</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.channel_data"><code class="docutils literal notranslate"><span class="pre">LoadScans.channel_data</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.filename"><code class="docutils literal notranslate"><span class="pre">LoadScans.filename</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.image"><code class="docutils literal notranslate"><span class="pre">LoadScans.image</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.pixel_to_nm_scaling"><code class="docutils literal notranslate"><span class="pre">LoadScans.pixel_to_nm_scaling</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.grain_masks"><code class="docutils literal notranslate"><span class="pre">LoadScans.grain_masks</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.img_dict"><code class="docutils literal notranslate"><span class="pre">LoadScans.img_dict</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.MINIMUM_IMAGE_SIZE"><code class="docutils literal notranslate"><span class="pre">LoadScans.MINIMUM_IMAGE_SIZE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.load_spm"><code class="docutils literal notranslate"><span class="pre">LoadScans.load_spm()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._spm_pixel_to_nm_scaling"><code class="docutils literal notranslate"><span class="pre">LoadScans._spm_pixel_to_nm_scaling()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.load_topostats"><code class="docutils literal notranslate"><span class="pre">LoadScans.load_topostats()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.load_ibw"><code class="docutils literal notranslate"><span class="pre">LoadScans.load_ibw()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._ibw_pixel_to_nm_scaling"><code class="docutils literal notranslate"><span class="pre">LoadScans._ibw_pixel_to_nm_scaling()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.load_jpk"><code class="docutils literal notranslate"><span class="pre">LoadScans.load_jpk()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._jpk_pixel_to_nm_scaling"><code class="docutils literal notranslate"><span class="pre">LoadScans._jpk_pixel_to_nm_scaling()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._gwy_read_object"><code class="docutils literal notranslate"><span class="pre">LoadScans._gwy_read_object()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._gwy_read_component"><code class="docutils literal notranslate"><span class="pre">LoadScans._gwy_read_component()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._gwy_print_dict"><code class="docutils literal notranslate"><span class="pre">LoadScans._gwy_print_dict()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._gwy_print_dict_wrapper"><code class="docutils literal notranslate"><span class="pre">LoadScans._gwy_print_dict_wrapper()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.load_gwy"><code class="docutils literal notranslate"><span class="pre">LoadScans.load_gwy()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.get_data"><code class="docutils literal notranslate"><span class="pre">LoadScans.get_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans._check_image_size_and_add_to_dict"><code class="docutils literal notranslate"><span class="pre">LoadScans._check_image_size_and_add_to_dict()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.LoadScans.add_to_dict"><code class="docutils literal notranslate"><span class="pre">LoadScans.add_to_dict()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.save_topostats_file"><code class="docutils literal notranslate"><span class="pre">save_topostats_file()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.save_pkl"><code class="docutils literal notranslate"><span class="pre">save_pkl()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topostats.io.load_pkl"><code class="docutils literal notranslate"><span class="pre">load_pkl()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/autoapi/topostats/io/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, TopoStats authors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>